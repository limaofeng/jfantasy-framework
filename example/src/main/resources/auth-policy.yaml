public-paths:
  - "/auth/login"

default:
  effect: "deny"

policies:
#  - id: "auth-access"
#    description: "Access to the auth service"
#    statements:
#      - action: ["write"]
#        resource: ["auth/login"]
#        effect: "allow"
  - id: "all-access"
    description: "Admin access to all services"
    subjects: ["role:admin", "role:user"]
    statements:
      - action: [ "read", "write", "list" ]
        resource: ["arn:*:*:/*"]
        effect: "allow"

resources:
  - id: "Authentication"
    service: "ram"
    description: "Demo user resource"
    actions:
      - id: "Login"
        description: "List demo users"
        type: "write"
        operations:
          - "Mutation.login"
        arn:
          - "auth/login"
  - id: "Other"
    service: "other"
    description: "偷懒的配置"
    actions:
      - id: "AllMutationOperation"
        description: "All mutation operation"
        type: "write"
        operations:
          - "Mutation.*"
        arn:
          - "/*"

roles:
  - id: "admin"
    description: "Admin role"
    permissions:
      - "all-access"
  - id: "user"
    description: "User role"
    permissions:
      - "all-access"