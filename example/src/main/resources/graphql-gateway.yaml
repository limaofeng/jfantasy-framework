schema:
  typeDefs: "./schema.graphql"

scalars:
  - name: "File"
    description: "A file part in a multipart request"
  - name: "Upload"
    description: "A file part in a multipart request"

services:
  - name: asany
    url: "https://api.asany.cn/graphql"
    typeDefs: "./asany.graphql"
    introspection:
      enabled: false
      frequency: 30m
    excludeFields:
      - "Application.routespaces"

override:
  - type: "Query"
    fields:
      - name: "apps"
        mapping: "applications"
        arguments:
          - name: "filter"
            mapping: "where"
  - type: "Application"
    fields:
      - name: "appName"
        mapping: "name"
        dataFetcher: "appName"
  - type: "Storage"
    fields:
      - name: "createdBy"
        type: "User"
        resolver:
          query: "user@Query.user(id: $createdBy)"

dataFetchers:
  - name: "appName"
    class: "cn.asany.example.demo.AppNameDataFetcher"
